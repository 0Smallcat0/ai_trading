# 第一次回測教程 - 手把手完成您的第一次回測

本教程將引導您完成第一次回測，讓您親身體驗量化交易策略的測試過程。

## 🎯 教程目標

完成本教程後，您將能夠：
- 理解回測的基本流程
- 使用系統進行策略回測
- 解讀回測結果報告
- 調整策略參數

## 📋 準備工作

### 1. 確認系統狀態
- ✅ 系統已正常啟動
- ✅ 已完成登入 (建議使用 admin 帳號)
- ✅ 資料收集已完成 (首次使用必須先收集數據)

### 2. 數據準備
1. 點擊側邊欄「📈 資料管理」
2. 選擇「數據收集」標籤
3. 點擊「開始收集台股數據」
4. 等待數據收集完成 (約1-2分鐘)

**重要**: 沒有數據就無法進行回測，這是必要步驟！

## 🚀 開始您的第一次回測

### 步驟 1: 進入回測系統
1. 點擊側邊欄「📊 回測系統」
2. 系統會載入回測配置頁面
3. 您會看到策略選擇、參數設定等選項

### 步驟 2: 選擇策略
我們從最簡單的策略開始：

**推薦策略**: 簡單移動平均策略
- **策略邏輯**: 短期均線上穿長期均線時買入，下穿時賣出
- **適合新手**: 邏輯簡單易懂
- **風險較低**: 適合初學者

在策略下拉選單中選擇「簡單移動平均策略」。

### 步驟 3: 設定回測參數

#### 基本參數設定
```
📅 回測期間
- 開始日期: 2023-01-01
- 結束日期: 2023-12-31
- 說明: 使用一年的數據進行測試

💰 資金設定
- 初始資金: 1,000,000 TWD
- 說明: 建議新手使用 100 萬作為測試資金

📈 股票選擇
- 股票代號: 2330 (台積電)
- 說明: 選擇流動性好的大型股票
```

#### 策略參數設定
```
📊 移動平均參數
- 短期均線: 5 日
- 長期均線: 20 日
- 說明: 5日線上穿20日線買入，下穿賣出

🛡️ 風險控制
- 停損比例: 5%
- 停利比例: 10%
- 說明: 虧損5%停損，獲利10%停利
```

### 步驟 4: 啟動回測
1. 檢查所有參數設定
2. 點擊「開始回測」按鈕
3. 系統會顯示回測進度
4. 等待回測完成 (通常需要30秒-2分鐘)

### 步驟 5: 查看回測進度
回測過程中，您會看到：
```
🔄 回測狀態: 運行中
📊 進度: 45%
📝 當前步驟: 正在計算技術指標...
⏱️ 預計剩餘時間: 1分30秒
```

## 📊 解讀回測結果

### 績效概覽
回測完成後，您會看到績效摘要：

```
📈 總收益率: +12.5%
💰 最終資產: 1,125,000 TWD
📉 最大回撤: -8.2%
🎯 夏普比率: 1.35
📊 勝率: 58%
```

### 關鍵指標解釋

#### 收益指標
- **總收益率**: 策略期間的總收益 (+12.5% 表示獲利12.5%)
- **年化收益率**: 換算為年化的收益率
- **超額收益**: 相對於大盤的超額表現

#### 風險指標
- **最大回撤**: 期間最大虧損幅度 (-8.2% 表示最大虧損8.2%)
- **夏普比率**: 風險調整後收益 (>1.0 表示表現良好)
- **波動率**: 收益的穩定性

#### 交易指標
- **勝率**: 獲利交易比例 (58% 表示58%的交易獲利)
- **交易次數**: 總交易次數
- **平均持有天數**: 每筆交易的平均持有時間

### 圖表分析

#### 1. 資產曲線圖
- **X軸**: 時間
- **Y軸**: 資產價值
- **解讀**: 向上傾斜表示獲利，向下表示虧損

#### 2. 回撤曲線圖
- **顯示**: 每個時點的回撤幅度
- **解讀**: 越接近0越好，負值越大風險越高

#### 3. 交易記錄表
- **顯示**: 每筆交易的詳細記錄
- **包含**: 買入日期、賣出日期、收益率等

## 🔍 結果分析與改進

### 分析您的結果

#### 如果結果良好 (收益率 > 5%, 夏普比率 > 1.0)
✅ **恭喜！** 您的第一次回測表現不錯
- 策略邏輯合理
- 參數設定適當
- 可以考慮進一步優化

#### 如果結果不佳 (收益率 < 0%, 夏普比率 < 0.5)
⚠️ **需要改進** 策略可能需要調整
- 檢查市場環境是否適合該策略
- 考慮調整參數設定
- 嘗試其他策略

### 參數優化建議

#### 調整移動平均參數
```
保守型: 短期10日, 長期30日
積極型: 短期3日, 長期15日
穩健型: 短期5日, 長期20日 (預設)
```

#### 調整風險控制參數
```
保守型: 停損3%, 停利6%
積極型: 停損8%, 停利15%
穩健型: 停損5%, 停利10% (預設)
```

## 🎓 學習要點

### 重要概念
1. **回測不等於未來表現**: 歷史績效不代表未來收益
2. **參數敏感性**: 小幅調整參數可能大幅影響結果
3. **市場環境**: 不同策略適合不同市場環境
4. **風險控制**: 控制風險比追求收益更重要

### 常見錯誤
1. **過度優化**: 過度調整參數以獲得最佳歷史表現
2. **忽略交易成本**: 未考慮手續費和滑價
3. **樣本偏差**: 只在特定時期測試策略
4. **風險忽視**: 只關注收益忽略風險

## 🚀 下一步行動

### 立即行動
1. **重複練習**: 嘗試不同參數設定
2. **多策略測試**: 測試其他預設策略
3. **記錄結果**: 建立回測記錄表格

### 進階學習
1. 閱讀 [風險管理入門指南](風險管理入門指南.md)
2. 學習 [策略創建步驟指南](策略創建步驟指南.md)
3. 了解 [風險參數設定指南](風險參數設定指南.md)

### 實踐建議
1. **從簡單開始**: 先掌握基本策略
2. **多做比較**: 比較不同策略的表現
3. **關注風險**: 重視風險控制指標
4. **持續學習**: 不斷改進和優化

## 🆘 遇到問題？

### 常見問題
- **數據載入失敗**: 檢查網路連接，重新收集數據
- **回測無法啟動**: 確認所有參數都已正確設定
- **結果異常**: 檢查日期範圍和股票代號是否正確

### 獲取幫助
- 查看 [常見錯誤與解決方案](常見錯誤與解決方案.md)
- 參考 [故障排除手冊](故障排除手冊.md)
- 聯繫技術支援

---

**版本**: v1.0.0  
**更新日期**: 2025年1月13日  
**預計完成時間**: 15-30分鐘  

**變更歷史**:
- v1.0.0 (2025-01-13): 初始版本，基於實際回測系統功能編寫
